<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de Respostas do Gartic</title>
    <link href="https://fonts.googleapis.com/css2?family=Google+Sans:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Google Sans', sans-serif;
            background-color: #2e003e;
            color: #ffffff;
            margin: 20px;
        }

        h1 {
            color: #ff007f;
            cursor: pointer;
            text-align: center;
        }

        h2 {
            color: #ff6f91;
            font-weight: bold;
        }

        h3 {
            font-family: 'Courier New', monospace;
            font-size: 1.2em;
            color: #ff007f;
            margin-top: 20px; 
        }

        .search-container, input[type="number"], input[type="text"], button {
            display: block;
            width: 100%;
            padding: 10px;
            border: none;
            border-radius: 5px;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .custom-select {
            position: relative;
            display: block;
            width: 100%;
            margin-bottom: 10px;
        }

        .select-selected {
            background-color: #4b005a;
            color: #ffffff;
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .select-items div {
            padding: 10px;
            background-color: #4b005a;
            color: #ffffff;
            cursor: pointer;
            border-bottom: 1px solid #ffffff;
        }

        .select-items div:hover, .same-as-selected {
            background-color: #ff6f91;
        }

        input[type="number"], input[type="text"] {
            background-color: #4b005a;
            color: #ffffff;
        }

        button {
            background-color: #ff6f91;
            color: #ffffff;
            cursor: pointer;
        }

        .hidden {
            display: none;
        }

        img.emoji {
            width: 24px;
            height: 24px;
            vertical-align: middle;
            margin-right: 5px;
        }

        .warning {
            color: red;
            font-size: 0.9em;
        }

        .example {
            color: red;
            font-size: 0.9em;
        }

        .result-count {
            font-size: 1.2em;
            margin-top: 20px;
            color: #ff6f91;
        }

        .tema-lista {
            margin-top: 20px;
            background-color: #3c0048;
            padding: 10px;
            border-radius: 5px;
        }

        .result-container {
            margin-top: 20px;
            background-color: #3c0048;
            padding: 10px;
            border-radius: 5px;
        }

        .result-container p {
            font-weight: bold;
        }
                 .credits {
            font-size: 14px;
            color: #fff;
            background-color: #800080;
            padding: 10px;
            text-align: center;
            position: fixed;
            width: 100%;
            bottom: 0;
            left: 0;
        }
       @media screen and (max-width: 768px) {
            body {
                margin: 10px;
            }
            h1 {
                font-size: 1.5em;
            }
        }

        .warning {
            color: red;
            font-size: 0.9em;
        }

        .example {
            color: red;
            font-size: 0.9em;
        }

        .result-count {
            font-size: 1.2em;
            margin-top: 20px;
            color: #ff6f91;
        }

        .tema-lista {
            margin-top: 20px;
            background-color: #3c0048;
            padding: 10px;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <h1 onclick="window.location.reload()">Lista de Respostas do Gartic</h1>

    <div class="custom-select">
        <div class="select-selected">Escolha um tema:</div>
        <div class="select-items hidden">
            <div data-value="https://raw.githubusercontent.com/kelbovine/replygtc/main/geral.json" data-img="https://gartic.com.br/imgs/novo/icon_vet_geral.png" data-title="Geral">
                <img src="https://gartic.com.br/imgs/novo/icon_vet_geral.png" class="emoji" alt="Geral"> Geral
            </div>
            <div data-value="https://raw.githubusercontent.com/kelbovine/replygtc/main/objetos.json" data-img="https://gartic.com.br/imgs/novo/icon_vet_objetos.png" data-title="Objetos">
                <img src="https://gartic.com.br/imgs/novo/icon_vet_objetos.png" class="emoji" alt="Objetos"> Objetos
            </div>
            <div data-value="https://raw.githubusercontent.com/kelbovine/replygtc/main/alimentos.json" data-img="https://gartic.com.br/imgs/novo/icon_vet_alimentos.png" data-title="Alimentos">
                <img src="https://gartic.com.br/imgs/novo/icon_vet_alimentos.png" class="emoji" alt="Alimentos"> Alimentos
            </div>
            <div data-value="https://raw.githubusercontent.com/kelbovine/replygtc/main/animais.json" data-img="https://gartic.com.br/imgs/novo/icon_vet_animais.png" data-title="Animais">
                <img src="https://gartic.com.br/imgs/novo/icon_vet_animais.png" class="emoji" alt="Animais"> Animais
            </div>
            <div data-value="https://raw.githubusercontent.com/kelbovine/replygtc/main/verbos.json" data-img="https://gartic.com.br/imgs/novo/icon_vet_verbos.png" data-title="Verbos">
                <img src="https://gartic.com.br/imgs/novo/icon_vet_verbos.png" class="emoji" alt="Verbos"> Verbos
            </div>
            <div data-value="https://raw.githubusercontent.com/kelbovine/replygtc/main/desenhos.json" data-img="https://gartic.com.br/imgs/novo/icon_vet_desenho.png" data-title="Desenhos Animados">
                <img src="https://gartic.com.br/imgs/novo/icon_vet_desenho.png" class="emoji" alt="Desenhos Animados"> Desenhos Animados
            </div>
            <div data-value="https://raw.githubusercontent.com/kelbovine/replygtc/main/profissoes.json" data-title="Profiss√µes">
                üß≥ Profiss√µes
            </div>
        </div>
    </div>

    <div class="search-container hidden" id="searchContainer">
        <input type="number" id="lengthInput" placeholder="Quantidade de letras" min="1">
        <div class="example">Exemplo: 10</div>

        <input type="text" id="hintInput" placeholder="Letra inicial">
        <div class="example">Exemplo: Letra P</div>

        <input type="text" id="lettersInput" placeholder="Letras da palavra">
        <div class="warning">Separe as letras com espa√ßos.</div>

        <button onclick="search()">Buscar</button>
    </div>

    <div id="result"></div>
    <h2 id="temaHeader" class="hidden"></h2>

    <!-- Lista de todas as palavras do tema -->
    <div id="listaTemas" class="tema-lista hidden"></div>

    <script>
        let dadosTemas = {};

        const customSelect = document.querySelector('.custom-select');
        const selected = customSelect.querySelector('.select-selected');
        const itemsContainer = customSelect.querySelector('.select-items');

        selected.addEventListener('click', function() {
            itemsContainer.classList.toggle('hidden');
        });

        itemsContainer.querySelectorAll('div').forEach(item => {
            item.addEventListener('click', function() {
                selected.innerHTML = this.innerHTML;
                selected.setAttribute('data-value', this.getAttribute('data-value'));
                carregarDados(this.getAttribute('data-value'), this.getAttribute('data-title'));
                itemsContainer.classList.add('hidden');
            });
        });

        function carregarDados(temaUrl, title) {
            if (temaUrl) {
                document.getElementById('result').innerHTML = '';
                document.getElementById('listaTemas').classList.add('hidden');
                document.getElementById('listaTemas').innerHTML = '';

                document.getElementById('temaHeader').classList.remove('hidden');
                document.getElementById('searchContainer').classList.remove('hidden');

                fetch(temaUrl)
                    .then(response => response.json())
                    .then(data => {
                        dadosTemas = data;
                        const totalWords = Object.values(dadosTemas).flat().length;
                        document.getElementById('temaHeader').innerHTML = `${title} (${totalWords} palavras no total)`;

                        displayWordsByLength();
                    })
                    .catch(error => console.error('Erro ao carregar dados:', error));
            }
        }

        function displayWordsByLength() {
            const listElement = document.getElementById('listaTemas');
            let wordCounts = '';

            for (const category in dadosTemas) {
                wordCounts += `<h3>${category} letras</h3>` + dadosTemas[category].map(word => `<p>${word}</p>`).join('');
            }

            listElement.innerHTML = wordCounts;
            listElement.classList.remove('hidden');
        }

        function search() {
            document.getElementById('temaHeader').classList.add('hidden'); 

            const length = document.getElementById('lengthInput').value;
            const hint = document.getElementById('hintInput').value.toUpperCase();
            const letters = document.getElementById('lettersInput').value.toUpperCase().split(/\s+/);

            const filteredWords = Object.values(dadosTemas).flat().filter(word => {
                const matchesLength = !length || word.length == length;
                const matchesHint = !hint || word.startsWith(hint);
                const matchesLetters = letters.every(letter => word.includes(letter));

                return matchesLength && matchesHint && matchesLetters;
            });

            displayResults(filteredWords, length);
        }

        function displayResults(words, length) {
            const resultElement = document.getElementById('result');
            const listElement = document.getElementById('listaTemas');
            listElement.classList.add('hidden');

            resultElement.innerHTML = ''; 

            const resultCountElement = document.createElement('div');
            resultCountElement.className = 'result-count';
            resultCountElement.innerText = `${words.length} resultados encontrados${length ? ` (${length} letras na busca)` : ''}`;
            resultElement.appendChild(resultCountElement);

            if (words.length > 0) {
                const resultContainer = document.createElement('div');
                resultContainer.className = 'result-container';
                resultContainer.innerHTML = words.map(word => `<p><b>${word}</b></p>`).join('');
                resultElement.appendChild(resultContainer);
            } else {
                resultElement.innerHTML = '<p>Nenhum resultado encontrado.</p>';
            }
        }
    </script>
    <div class="credits">
        Criado para jogadores mobile, desenvolvido por Intocado.
            </div>
</body>
</html>
